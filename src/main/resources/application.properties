spring.application.name=filesharingapp

# Environment Configuration
context.initializer.classes=com.cloud.computing.filesharingapp.config.EnvironmentConfig

# Database Configuration
spring.datasource.url=${DB_URL:jdbc:h2:mem:testdb}
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=${DB_USERNAME:sa}
spring.datasource.password=${DB_PASSWORD:password}
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.h2.console.enabled=true
spring.jpa.hibernate.ddl-auto=create-drop

# File Upload Configuration
spring.servlet.multipart.max-file-size=${MAX_FILE_SIZE:10MB}
spring.servlet.multipart.max-request-size=${MAX_REQUEST_SIZE:10MB}
file.upload-dir=${FILE_UPLOAD_DIR:uploads}

# Server Configuration
server.port=${SERVER_PORT:8080}

# JWT Configuration (Base64 encoded 512-bit key for HS512)
app.jwtSecret=${JWT_SECRET}
app.jwtExpirationMs=${JWT_EXPIRATION_MS:86400000}

# Logging Configuration
logging.level.com.cloud.computing.filesharingapp=INFO
logging.level.org.springframework.security=WARN
logging.level.org.springframework.web=INFO
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# Create logs directory
logging.file.path=logs

# Email Configuration
spring.mail.host=${EMAIL_HOST:smtp.gmail.com}
spring.mail.port=${EMAIL_PORT:587}
spring.mail.username=${EMAIL_USERNAME:}
spring.mail.password=${EMAIL_PASSWORD:}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.connectiontimeout=5000
spring.mail.properties.mail.smtp.timeout=3000
spring.mail.properties.mail.smtp.writetimeout=5000

# Email Verification Settings
app.verification.code-length=${VERIFICATION_CODE_LENGTH:6}
app.verification.expiry-minutes=${VERIFICATION_EXPIRY_MINUTES:15}
app.verification.max-attempts=${VERIFICATION_MAX_ATTEMPTS:3}
app.verification.max-codes-per-hour=${VERIFICATION_MAX_CODES_PER_HOUR:5}
app.verification.from-email=${EMAIL_FROM:noreply@filesharingapp.com}
app.verification.from-name=${EMAIL_FROM_NAME:File Sharing App}

# File Sharing Configuration
# Default expiration time for new shares (in hours)
app.sharing.default-expiry-hours=${SHARING_DEFAULT_EXPIRY_HOURS:24}
# Maximum allowed expiration time for shares (in days)
app.sharing.max-expiry-days=${SHARING_MAX_EXPIRY_DAYS:30}
# Maximum number of active shares per user
app.sharing.max-shares-per-user=${SHARING_MAX_SHARES_PER_USER:100}
# Maximum number of accesses allowed per share
app.sharing.max-access-per-share=${SHARING_MAX_ACCESS_PER_SHARE:1000}

# Rate Limiting Configuration
# Maximum number of shares a user can create per hour
app.sharing.max-shares-per-hour=${SHARING_MAX_SHARES_PER_HOUR:10}
# Global rate limit: maximum accesses per IP address per hour (across all shares)
app.sharing.max-access-per-ip-per-hour=${SHARING_MAX_ACCESS_PER_IP_PER_HOUR:100}
# Per-share rate limit: maximum accesses per IP address per share per hour
app.sharing.max-access-per-share-per-ip-per-hour=${SHARING_MAX_ACCESS_PER_SHARE_PER_IP_PER_HOUR:20}
# Time window for rate limiting calculations (in hours)
app.sharing.rate-limit-window-hours=${SHARING_RATE_LIMIT_WINDOW_HOURS:1}

# Security Configuration
# Whether to require HTTPS for share links (recommended for production)
app.sharing.require-https=${SHARING_REQUIRE_HTTPS:true}
# Whether to log all share access attempts for security monitoring
app.sharing.log-access=${SHARING_LOG_ACCESS:true}
# Threshold for detecting suspicious activity (accesses per hour from single IP)
app.sharing.suspicious-activity-threshold=${SHARING_SUSPICIOUS_ACTIVITY_THRESHOLD:50}

# Application Base URL Configuration
# Base URL for generating share links (should match your domain in production)
app.base-url=${APP_BASE_URL:http://localhost:8080}
